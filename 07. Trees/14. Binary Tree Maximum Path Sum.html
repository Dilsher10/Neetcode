<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Tree Maximum Path Sum</title>
</head>

<body>
    <script>
        function maxPathSum(root) {
            let maxSum = -Infinity;

            const dfs = (node) => {
                if (!node) return 0;
                
                // Recursively find the maximum gain from left and right subtrees
                const left = Math.max(dfs(node.left), 0);
                const right = Math.max(dfs(node.right), 0);

                // Price of a new path passing through this node
                const curSum = node.val + left + right;

                // Update the global maximum path sum if needed
                maxSum = Math.max(maxSum, curSum);

                // For recursion: return max sum starting from this node
                return node.val + Math.max(left, right);
            }

            dfs(root);
            return maxSum;
        };
    </script>
</body>

</html>
