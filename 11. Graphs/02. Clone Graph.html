<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clone Graph</title>
</head>

<body>
    <script>
        var cloneGraph = function (node) {
            const hashMap = new Map();

            const dfs = (node) => {
                if (node === null) {
                    return null;
                }

                //It returns the already cloned node from the hashMap. This means that the function call for that particular node ends and no further processing occurs in that particular branch of the recursion.
                if (hashMap.has(node)) {
                    return hashMap.get(node);
                }

                const copy = new Node(node.val);
                hashMap.set(node, copy);

                for (let nei of node.neighbors) {
                    copy.neighbors.push(dfs(nei));
                }

                return copy;
            }

            return dfs(node);
        };

        const adjList = [[2], [1, 3], [2]];
        let solution = new Solution();
        let result = solution.cloneGraph(adjList);
        console.log(result);
    </script>
</body>

</html>