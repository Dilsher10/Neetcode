<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pacific Atlantic Water Flow</title>
</head>
<body>
    <script>
        class Solution {

            pacificAtlantic(heights) {
                let ROWS = heights.length;
                let COLS = heights[0].length;
                let pac = Array.from({ length: ROWS }, () => Array(COLS).fill(false));
                let atl = Array.from({ length: ROWS }, () => Array(COLS).fill(false));

                const dfs = (r, c, visited, prevHeight) => {

                    if (r < 0 || r >= ROWS || c < 0 || c >= COLS || visited[r][c] || heights[r][c] < prevHeight) return;

                    visited[r][c] = true;

                    dfs(r + 1, c, visited, heights[r][c]);
                    dfs(r, c + 1, visited, heights[r][c]);
                    dfs(r - 1, c, visited, heights[r][c]);
                    dfs(r, c - 1, visited, heights[r][c]);

                };

                for (let c = 0; c < COLS; c++) {
                    dfs(0, c, pac);
                    dfs(ROWS - 1, c, atl);
                }
                for (let r = 0; r < ROWS; r++) {
                    dfs(r, 0, pac);
                    dfs(r, COLS - 1, atl);
                }

                let res = [];
                for (let r = 0; r < ROWS; r++) {
                    for (let c = 0; c < COLS; c++) {
                        if (pac[r][c] && atl[r][c]) {
                            res.push([r, c]);
                        }
                    }
                }
                return res;
            }
        }

        const heights = [
            [4, 2, 7, 3, 4],
            [7, 4, 6, 4, 7],
            [6, 3, 5, 3, 6]
        ];
        const solution = new Solution();
        const result = solution.pacificAtlantic(heights);
        console.log(result);
    </script>
</body>

</html>
