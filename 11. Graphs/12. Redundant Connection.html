<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redundant Connection</title>
</head>

<body>
    <script>
        function findRedundantConnection(edges) {
            const parent = new Array(edges.length + 1).fill(0).map((_, i) => i);
            const rank = new Array(edges.length + 1).fill(1);


            const find = (n) => {
                while (n !== parent[n]) {
                    parent[n] = parent[parent[n]];
                    n = parent[n];
                }
                return n;
            };


            const union = (u, v) => {
                const rootU = find(u);
                const rootV = find(v);

                // If both nodes have the same root, a cycle is detected
                if (rootU === rootV) {
                    return false;
                }

                // Union by rank: attach smaller tree under larger tree
                if (rank[rootU] > rank[rootV]) {
                    parent[rootV] = rootU;
                    rank[rootU] += rank[rootV];
                } else {
                    parent[rootU] = rootV;
                    rank[rootV] += rank[rootU];
                }
                
                return true;
            };


            for (const [u, v] of edges) {
                // If union returns false, it means adding this edge would create a cycle
                if (!union(u, v)) {
                    return [u, v];
                }
            }

            return [];
        }

        const edges = [[1, 2], [1, 3], [3, 4], [2, 4]];
        console.log(findRedundantConnection(edges));
    </script>
</body>

</html>
