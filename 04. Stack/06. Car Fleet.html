<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Fleet</title>
</head>

<body>
    <script>
        function carFleet(target, position, speed) {
            if (position.length === 0 || speed.length === 0 || target === 0) {
                return 0;
            }

            let pair = position.map((p, i) => [p, speed[i]]);
            pair.sort((a, b) => b[0] - a[0]);  // sort by position descending

            let stack = [];

            for (let [p, s] of pair) {
                let time = (target - p) / s;

                // Only push if this car doesn't catch up to the car ahead
                if (stack.length === 0 || time > stack[stack.length - 1]) {
                    stack.push(time);
                }
                // else: it catches up, becomes part of the same fleet
            }

            return stack.length;
        }

        target = 10, position = [4, 1, 0, 7], speed = [2, 2, 1, 1];
        console.log(carFleet(target, position, speed));
    </script>
</body>

</html>