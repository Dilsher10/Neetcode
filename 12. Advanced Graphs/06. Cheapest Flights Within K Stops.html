<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cheapest Flights Within K Stops</title>
</head>

<body>
    <script>
        function findCheapestPrice(n, flights, src, dst, k) {
            let prices = new Array(n).fill(Number.MAX_SAFE_INTEGER);
            prices[src] = 0;

            for (let i = 0; i <= k; i++) {
                const tmpPrices = [...prices];

                for (const flight of flights) {
                    const u = flight[0];
                    const v = flight[1];
                    const w = flight[2];

                    // If the source city has not been reached yet, skip it.
                    if (prices[u] === Number.MAX_SAFE_INTEGER) continue;

                    // If we found a cheaper way to reach city v via city u, update it in tmpPrices.
                    if (prices[u] + w < tmpPrices[v]) {
                        tmpPrices[v] = prices[u] + w;
                    }
                }

                prices = tmpPrices;
            }

            return prices[dst] === Number.MAX_SAFE_INTEGER ? -1 : prices[dst];
        }

        n = 4, flights = [[0, 1, 200], [1, 2, 100], [1, 3, 300], [2, 3, 100]], src = 0, dst = 3, k = 1
        console.log(findCheapestPrice(n, flights, src, dst, k));  // Output: 500
    </script>
</body>

</html>
